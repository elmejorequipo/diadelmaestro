<!DOCTYPE html>
<html lang="es">
<head>
    <!-- ============== SEO B√ÅSICO Y CONFIGURACI√ìN DEL NAVEGADOR ============== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Feliz D√≠a, Profe! üíñ Una Aventura de Coraz√≥n</title>
    <meta name="description" content="Una historia interactiva y un homenaje sorpresa para celebrar a los maestros de coraz√≥n. ¬°Participa y recibe una felicitaci√≥n especial!">
    <meta name="keywords" content="d√≠a del maestro, felicitaci√≥n, don bosco, historia interactiva, homenaje, educaci√≥n, kawaii">
    
    <!-- URL Can√≥nica: Reemplaza la URL de ejemplo con la URL real de tu p√°gina -->
    <link rel="canonical" href="https://elmejorequipo.github.io/diadelmaestro/donbosco">

    <!-- ============== VISTA PREVIA PARA REDES SOCIALES (OPEN GRAPH) ============== -->
    <meta property="og:title" content="¬°Feliz D√≠a, Superprofe! üíñ Una Sorpresa Para Ti">
    <meta property="og:description" content="Una historia interactiva para celebrar tu incre√≠ble labor. ¬°Descubre el giro final y una felicitaci√≥n especial con fuegos artificiales!">
    <meta property="og:type" content="website">
    
    <!-- URL Real: ¬°MUY IMPORTANTE! Reempl√°zala con la URL real de tu p√°gina -->
    <meta property="og:url" content="https://elmejorequipo.github.io/diadelmaestro/donbosco">
    
    <!-- Imagen de Vista Previa: Esta imagen se mostrar√° en WhatsApp. Enlace directo a una imagen 1200x630px -->
    <meta property="og:image" content="https://i.ibb.co/L5T1bdy/card-maestro-preview.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Homenaje a los Maestros">

    <!-- ============== VISTA PREVIA PARA TWITTER ============== -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://i.ibb.co/L5T1bdy/card-maestro-preview.png">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&display=swap');:root{--kawaii-pink:#ffc2d1;--kawaii-lavender:#c8b6ff;--kawaii-light-blue:#bde0fe;--kawaii-yellow:#fff38a;--text-color:#4a4a4a;--card-background:#ffffff;--shadow-color:rgba(200, 182, 255, 0.35);--border-radius:25px;--button-pink:#ffafcc}html{font-size:16px}body{font-family:'M PLUS Rounded 1c',sans-serif;background:linear-gradient(180deg, var(--kawaii-light-blue), var(--kawaii-pink));color:var(--text-color);margin:0;padding:1.5rem 1rem;display:flex;align-items:center;justify-content:center;min-height:100vh;flex-direction:column;overflow-x:hidden}#story-container{background-color:var(--card-background);border-radius:var(--border-radius);box-shadow:0 10px 45px var(--shadow-color);border:4px solid white;max-width:700px;width:100%;padding:2rem 2.5rem;text-align:center;transition:opacity .4s ease-in-out,transform .4s ease}.fade-out{opacity:0;transform:scale(.95)}h1{color:var(--kawaii-lavender);font-weight:800;font-size:clamp(1.8rem, 5vw, 2.25rem);margin-bottom:1.5rem}#story-text{font-size:clamp(1rem, 3vw, 1.2rem);line-height:1.8;text-align:left;margin-bottom:2rem;font-weight:400}#choices-container{display:flex;flex-direction:column;gap:1rem}.choice-button,.action-button{background-color:var(--button-pink);color:white;border:none;padding:1rem 1.25rem;border-radius:50px;font-size:clamp(1rem, 3vw, 1.2rem);font-family:'M PLUS Rounded 1c',sans-serif;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 10px rgba(255, 175, 204, 0.4)}.choice-button:hover,.action-button:hover{background-color:var(--kawaii-lavender);transform:translateY(-4px) scale(1.02);box-shadow:0 8px 15px rgba(200, 182, 255, 0.5)}#name-input{width:100%;padding:1rem;box-sizing:border-box;border:2px solid #e0e0e0;border-radius:50px;font-size:clamp(1rem, 3vw, 1.2rem);margin-bottom:1rem;text-align:center;font-family:'M PLUS Rounded 1c',sans-serif}#teacher-tribute{opacity:0;max-height:0;overflow:hidden;transition:opacity .8s ease-out,max-height .8s ease-out,padding .8s ease-out,margin-top .8s ease-out;padding:0;margin-top:0}#teacher-tribute.visible{background:#fff;color:#4a4a4a;padding:2rem;border-radius:var(--border-radius);margin-top:2rem;max-width:700px;width:100%;border:5px solid var(--kawaii-lavender);text-align:center;opacity:1;max-height:500px;animation:fadeInUp .8s ease-out forwards}#teacher-tribute h2{font-size:clamp(2rem, 6vw, 2.75rem);font-weight:800;color:var(--kawaii-pink);margin:0 0 1rem 0;text-transform:uppercase;letter-spacing:1px}#teacher-tribute p{font-size:clamp(1.1rem, 3.5vw, 1.3rem);line-height:1.7;margin:0}@keyframes fadeInUp{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}#fireworks-container{position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:9999}.firework-particle{position:absolute;border-radius:50%;opacity:1;transform:scale(.2);transition:transform 1.2s cubic-bezier(0.215, 0.610, 0.355, 1),opacity 1.2s cubic-bezier(0.215, 0.610, 0.355, 1)}@media (max-width:600px){html{font-size:14px}body{padding:1rem .5rem}#story-container{padding:1.5rem}#teacher-tribute.visible{padding:1.5rem}}
    </style>
</head>
<body>
    <div id="fireworks-container"></div>
    <div id="story-container">
        <!-- El <h1> est√°tico se remplazar√° por el H1 del JavaScript, lo dejo por si el script falla. -->
        <h1 style="display: none;">üíñ Un H√©roe y un Sombrero üé©</h1>
        <p id="story-text"></p>
        <div id="choices-container"></div>
    </div>
    <div id="teacher-tribute"></div>
    <script>
        // --- JAVASCRIPT CORREGIDO Y LEGIBLE ---
        const storyContainer = document.getElementById("story-container");
        const storyText = document.getElementById("story-text");
        const choicesContainer = document.getElementById("choices-container");
        const teacherTribute = document.getElementById("teacher-tribute");
        const fireworksContainer = document.getElementById("fireworks-container");
        
        let teacherName = "";

        const storyData = {start:{title:"üíñ Un H√©roe y un Sombrero üé©",text:()=>"¬°Hola, superprofe! üòä‚ú® Prep√°rate para una historia donde t√∫ eres el h√©roe secreto. Por favor, dinos tu nombre para comenzar esta m√°gica aventura.",action:"getName"},part1:{title:"El Misterio del Examen üïµÔ∏è‚Äç‚ôÇÔ∏è",text:e=>`La jornada termina en los pasillos del cole. T√∫, <strong>Profe ${e}</strong>, guardas tus cosas mientras sientes esa mezcla de cansancio y satisfacci√≥n.<br><br>De pronto, ves a tu estudiante Leo, cabizbajo y mirando con terror una hoja de examen. Tu 'profe-radar' se enciende. Pero notas algo m√°s... En el reverso del examen, hay unos dibujos extra√±os: un conejo, un sombrero de copa y lo que parece ser la palabra... ¬ø\"Abrakadabra\"? ü§î`,choices:[{text:"Preguntar por la nota con tono amable.",nextScene:"part2A"},{text:"Preguntar por el conejo dibujado. ¬°Prioridades!",nextScene:"part2B"}]},part2A:{title:"M√°s que solo una Nota... üÉè",text:e=>`Te acercas con tu cl√°sica calma. "Leo, ¬øun d√≠a pesado con los n√∫meros?".<br><br>√âl te mira con p√°nico. "<strong>Profe ${e}</strong>, ¬°es terrible! ¬°No puedo hacer que el 5 se convierta en 10!". T√∫ le miras... y ves que est√° barajando unas cartas debajo del pupitre. Esto es m√°s raro de lo que pensabas.<br><br>Con una sonrisa, le dices: "Bueno, convertir un 5 en un 10 es un truco dif√≠cil. ¬øQuiz√°s el problema no est√° en la nota?"`,choices:[{text:"Animarlo a que te cuente el verdadero problema...",nextScene:"part3"}]},part2B:{title:"¬°El Secreto del Mago! üé©",text:e=>`Decides ir directo al misterio. Te acercas y le dices con complicidad: "¬øProblemas con el truco del conejo? A veces se atascan en el sombrero."<br><br>Los ojos de Leo se abren como platos. ¬°Lo has descubierto! üò± "¬°<strong>Profe ${e}</strong>! ¬øC√≥mo supo? ¬°Estoy practicando para ser 'El Gran Leodini' en el show de talentos, pero me da p√°nico esc√©nico y no me puedo concentrar en nada! ¬°Por eso reprob√©!".<br><br>¬°El giro! El problema no era el examen, era el p√°nico a la magia.`,choices:[{text:"¬°Ofrecerte como su primer espectador! ‚ú®",nextScene:"part3"}]},part3:{title:"La Lluvia de Cartas üé®",text:e=>`"A ver, Gran Leodini," dices con una sonrisa gigante, "mu√©strame tu mejor truco". Olvidas por completo el examen. Le das el espacio para que saque su varita (que en realidad es una regla con cinta adhesiva) y sus cartas.<br><br>Leo, temblando un poco, intenta hacer un truco y las cartas salen volando por todos lados. ¬°Un desastre adorable! En lugar de re√≠rte, aplaudes. ¬°Incre√≠ble! ¬°Una lluvia de cartas! ¬°Muy art√≠stico!<br><br>Le ayudas a recogerlas y le das el mejor consejo: "El truco m√°s grande no es la magia, es creer en el mago. Y <strong>Profe ${e}</strong> cree en ti".`,choices:[{text:"El d√≠a del show de talentos...",nextScene:"final"}]},final:{title:"¬°El Gran Final! üåü",text:e=>`Lleg√≥ el d√≠a. El Gran Leodini sube al escenario. A√∫n tiembla, pero te busca entre el p√∫blico, <strong>Profe ${e}</strong>. T√∫ le gui√±as un ojo y levantas los dos pulgares. üëçüëç<br><br>Leo respira hondo y comienza. El truco del pa√±uelo... ¬°funciona! La lluvia de cartas... ¬°ahora es a prop√≥sito y la gente r√≠e y aplaude! Es un √©xito. Al final, hace una gran reverencia y grita: ¬°Gracias a mi m√°nager, el Profe ${e}!<br><br>Ese d√≠a no solo ayudaste a un mago a encontrar su confianza. Le recordaste que 'Educar es cosa del Coraz√≥n' a veces significa aplaudir una lluvia de cartas para poder, m√°s tarde, resolver una lluvia de problemas de matem√°ticas.`,action:"end"}};

        function launchFireworks(){const e=["#ffc2d1","#c8b6ff","#bde0fe","#ffafcc","#fff38a"],t=(t,n)=>{for(let r=0;r<30;r++){const o=document.createElement("div");o.classList.add("firework-particle");const a=360*Math.random(),i=15*Math.random()+5,c=5*Math.random()+2;o.style.width=`${c}px`,o.style.height=`${c}px`,o.style.left=`${t}px`,o.style.top=`${n}px`,o.style.backgroundColor=e[Math.floor(Math.random()*e.length)],fireworksContainer.appendChild(o),requestAnimationFrame(()=>{o.style.transform=`rotate(${3*a}deg) translateX(${i}rem) scale(1)`,o.style.opacity="0"}),setTimeout(()=>{o.remove()},1200)}};const n=setInterval(()=>{const e=.7*window.innerHeight*Math.random(),n=Math.random()*window.innerWidth;t(n,e)},600);setTimeout(()=>clearInterval(n),5e3)}

        function renderScene(sceneId) {
            const scene = storyData[sceneId];
            storyContainer.classList.add("fade-out");

            setTimeout(() => {
                let currentTitle = document.querySelector("#story-container h1");
                if (!currentTitle) {
                    currentTitle = document.createElement("h1");
                    storyContainer.prepend(currentTitle);
                }
                currentTitle.innerHTML = scene.title || "üíñ Un H√©roe y un Sombrero üé©";
                
                storyText.innerHTML = scene.text(teacherName);
                choicesContainer.innerHTML = "";

                if (scene.choices) {
                    scene.choices.forEach(choice => {
                        const button = document.createElement("button");
                        button.innerHTML = choice.text;
                        button.classList.add("choice-button");
                        button.onclick = () => renderScene(choice.nextScene);
                        choicesContainer.appendChild(button);
                    });
                }

                if (scene.action === 'getName') {
                    // == CORRECCI√ìN APLICADA AQU√ç ==
                    // 1. Crear el bot√≥n primero
                    const startButton = document.createElement('button');
                    startButton.innerText = '¬°Revelar mi historia!';
                    startButton.classList.add('action-button');

                    // 2. Crear el input
                    const input = document.createElement('input');
                    input.id = 'name-input';
                    input.type = 'text';
                    input.placeholder = 'Escribe tu nombre de h√©roe ‚ú®';
                    
                    // 3. Asignar el evento onkeyup (ahora puede "ver" el startButton)
                    input.onkeyup = (event) => {
                        if (event.key === 'Enter') {
                            startButton.click();
                        }
                    };

                    // 4. Asignar el evento onclick al bot√≥n
                    startButton.onclick = () => {
                        if (input.value.trim()) {
                            teacherName = input.value.trim();
                            renderScene('part1');
                        } else {
                            input.placeholder = "¬°Necesitamos el nombre del h√©roe! üòä";
                        }
                    };
                    
                    // 5. A√±adirlos al contenedor
                    choicesContainer.appendChild(input);
                    choicesContainer.appendChild(startButton);
                    input.focus();
                }

                if (scene.action === 'end') {
                    setTimeout(() => {
                        const tributeContent = `<h2>¬°FELIZ D√çA, PROFE ${teacherName}!</h2><p>Esta historia fue sobre ti. Pero la verdad es que cada d√≠a, escribes cap√≠tulos asombrosos en la vida de tus estudiantes. Historias de paciencia, de alegr√≠a y de descubrir magos escondidos.<br><br><strong>Gracias por no ser solo un maestro de materias, sino un MAESTRO DE CORAZONES.</strong><br><br>El mundo es un lugar mucho m√°s m√°gico y brillante gracias a h√©roes como t√∫. ‚ú®üíñ</p>`;
                        teacherTribute.innerHTML = tributeContent;
                        teacherTribute.classList.add("visible");
                        launchFireworks();
                    }, 600);
                    
                    const restartButton = document.createElement("button");
                    restartButton.innerText = 'üé© Empezar otra aventura';
                    restartButton.classList.add("action-button");
                    restartButton.style.marginTop = "1rem";
                    restartButton.onclick = () => location.reload();
                    choicesContainer.appendChild(restartButton);
                }
                
                storyContainer.classList.remove("fade-out");
            }, 500);
        }
        
        // Iniciar la historia
        renderScene('start');
    </script>
</body>
</html>
